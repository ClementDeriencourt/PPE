{% extends "base.html.twig" %}

{% block title %} {{ parent() }} - Gestion des équipes {% endblock %}
       
{% block contenu %} <h1> Gestion des équipes </h1> 

{% if form.valide is defined %} 
    {% if form.valide == true %}
       <h1 class="h3 mb-3 font-weight-normal">{{ form.message }}</h1>
       {% else %}  
       <h1 class="alert alert-danger" role="alert">{{ form.message }}</h1> 
    {% endif %}         
{% endif %}         
    
<div class="panel">
  <!-- Default panel contents -->
  <div class="panel-heading background-violet">Liste des équipes - <a href="index.php?page=equipeajout" class="blanc">Ajouter une équipe</a></div>

  <!-- Table -->
  <div class="table-responsive">
  <table class="table table-hover table-striped">
      <tr><th>Libellé</th><th>Responsable</th><th></th><th><input type="checkbox" id="select" onchange="cocherTout(this.checked)" name="acs"></th><th></th></tr>
   {% for e in liste %}
          <tr><td>{{e.libelleEquipe}}</td><td>{{e.nomDev}} {{e.prenomDev}} </td><td>
                  <div class="btn-group btn-group-lg"><a href="index.php?page=equipemodif&id={{e.idEquipe}}">
                          <span class="glyphicon glyphicon-pencil violet" aria-hidden="true">
                              
                          </span></a></div></td><td>
                            <input type="checkbox" name="cocher[]" id="cocher[]" value="{{e.idEquipe}}"/>
                        </td></tr> 
   {% endfor %}    
  </table>
  </div>
</div>
          <script type="text/javascript">
        function cocherTout(etat)
        {
            var cases = document.getElementsByTagName('input');   // on recupere tous les INPUT
            for (var i = 0; i < cases.length; i++) {     // on les parcourt
                if (cases[i].type == 'checkbox') {    // si on a une checkbox...
                    cases[i].checked = etat;
                }
            }// ... on la coche ou non
        }
    </script>
{% endblock %} 


